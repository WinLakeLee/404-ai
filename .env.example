# Example environment variables for 404-ai

# Flask / server
HOST=0.0.0.0
PORT=5000
DEBUG=False

# Device (cpu/cuda)
DEVICE=cpu

# Detection backend (yolo or sam)
DETECTION_BACKEND=yolo
DETECTION_CONF=0.25
DETECTION_IMGSZ=640
# Optional per-class confidence map: class_id:threshold (comma-separated)
DETECTION_CONF_MAP=1:0.4,2:0.6,4:0.4,5:0.3
# NMS IoU threshold (0 to disable)
DETECTION_NMS_IOU=0.3

# YOLO model path (if using yolo)
YOLO_MODEL_PATH=models/yolo_weights/best.pt
# SAM model path (if using sam)
SAM_MODEL_PATH=models/sam/FastSAM-s.pt
SAM_PROMPT=car
SAM_MIN_CONF=0.45

# Anomaly backend and threshold
ANOMALY_BACKEND=patchcore
ANOMALY_THRESHOLD=33.08
PATCHCORE_CHECKPOINT=models/patch_core

# Toy car area gating (fraction of image area). 0 disables
TOY_CAR_MIN_AREA_RATIO=0.0

# Visualization
SHOW_IGNORED_CLASSES=false
FORCE_DATA_URI_HEADER=1

# MQTT
MQTT_ENABLED=false
MQTT_BROKER=localhost
MQTT_PORT=1883
MQTT_TLS=0
MQTT_TOPIC=camera01/result
IN_MQTT_TOPIC=camera01/control
OUT_MQTT_QOS=1
MQTT_SEND_ACK=0
MQTT_ACK_TOPIC=

# Upload / image limits
IMAGE_MAX_PIXELS=30000000
IMAGE_MAX_WIDTH=10000
IMAGE_MAX_HEIGHT=10000
IMAGE_MIN_WIDTH=1
IMAGE_MIN_HEIGHT=1

# App tuning
APP_WORKERS=4
LOG_RETENTION_DAYS=30

# Optional: patchcore memory bank path (if you want health check to verify)
PATCHCORE_MEMORY_BANK=models/patch_core/memory_bank.npy
